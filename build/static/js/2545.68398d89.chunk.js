"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[2545],{32545:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r(47619),c=r(23132),a=r(38768),o=r(88701),i=r(24193),s=r(56605),u=r(82295),l=r(61113),d=r(62321),p=r(22408),f=r(29466),m=r(56993),h=r(60397),x=r(46417);var g=function(e){var t=(0,p.I0)(),r=(0,p.v9)(h.Lm);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,x.jsx)(l.Z,{component:d.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Products"}),(0,x.jsxs)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[(0,x.jsxs)(u.Z,{component:d.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,x.jsx)(m.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,x.jsx)(s.Z,{placeholder:"Search products",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:r,inputProps:{"aria-label":"Search"},onChange:function(e){return t((0,h.c5)(e))}})]}),(0,x.jsx)(d.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,x.jsx)(i.Z,{className:"",component:f.rU,to:"/apps/e-commerce/products/new",variant:"contained",color:"secondary",startIcon:(0,x.jsx)(m.Z,{children:"heroicons-outline:plus"}),children:"Add"})})]})]})},v=r(29439),Z=r(77911),w=r(58970),y=r(44758),b=r(66835),j=r(57861),C=r(70941),k=r(41493),P=r(24076),S=r(83061),N=r(47313),A=r(8139),I=r(63738),T=r(47131),R=r(74748),M=r(83213),L=r(85582),z=r(51405),D=r(14560),O=r(82558),q=r(49709),E=r(15743),$=r(23477),B=r(17551),H=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];var U=function(e){var t=e.selectedProductIds,r=t.length,n=(0,N.useState)(null),c=(0,v.Z)(n,2),a=c[0],o=c[1],i=(0,p.I0)();function s(){o(null)}return(0,x.jsx)($.Z,{children:(0,x.jsxs)(P.Z,{className:"h-48 sm:h-64",children:[(0,x.jsxs)(C.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,B.$n)(e.palette.background.default,.4):(0,B.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[(0,x.jsx)(y.Z,{indeterminate:r>0&&r<e.rowCount,checked:0!==e.rowCount&&r===e.rowCount,onChange:e.onSelectAllClick}),r>0&&(0,x.jsxs)(E.Z,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:function(e){return e.palette.background.default}},children:[(0,x.jsx)(T.Z,{"aria-owns":a?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},size:"large",children:(0,x.jsx)(m.Z,{children:"heroicons-outline:dots-horizontal"})}),(0,x.jsx)(L.Z,{id:"selectedProductsMenu",anchorEl:a,open:Boolean(a),onClose:s,children:(0,x.jsx)(D.Z,{children:(0,x.jsxs)(z.Z,{onClick:function(){i((0,h.$0)(t)),e.onMenuItemClick(),s()},children:[(0,x.jsx)(R.Z,{className:"min-w-40",children:(0,x.jsx)(m.Z,{children:"heroicons-outline:trash"})}),(0,x.jsx)(M.Z,{primary:"Remove"})]})})})]})]}),H.map((function(t){return(0,x.jsx)(C.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,B.$n)(e.palette.background.default,.4):(0,B.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,x.jsx)(q.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,x.jsx)(O.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(r=t.id,function(t){e.onRequestSort(t,r)}),className:"font-semibold",children:t.label})})},t.id);var r}),this)]})})};var F=(0,A.Z)((function(e){var t=(0,p.I0)(),r=(0,p.v9)(h.nR),n=(0,p.v9)(h.Lm),c=(0,N.useState)(!0),a=(0,v.Z)(c,2),o=a[0],i=a[1],s=(0,N.useState)([]),u=(0,v.Z)(s,2),f=u[0],g=u[1],A=(0,N.useState)(r),T=(0,v.Z)(A,2),R=T[0],M=T[1],L=(0,N.useState)(0),z=(0,v.Z)(L,2),D=z[0],O=z[1],q=(0,N.useState)(10),E=(0,v.Z)(q,2),$=E[0],B=E[1],H=(0,N.useState)({direction:"asc",id:null}),F=(0,v.Z)(H,2),_=F[0],X=F[1];return(0,N.useEffect)((function(){t((0,h.Xp)()).then((function(){return i(!1)}))}),[t]),(0,N.useEffect)((function(){0!==n.length?(M(w.Z.filter(r,(function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))),O(0)):M(r)}),[r,n]),o?(0,x.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,x.jsx)(I.Z,{})}):0===R.length?(0,x.jsx)(d.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(l.Z,{color:"text.secondary",variant:"h5",children:"There are no products!"})}):(0,x.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,x.jsx)(Z.Z,{className:"grow overflow-x-auto",children:(0,x.jsxs)(b.Z,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[(0,x.jsx)(U,{selectedProductIds:f,order:_,onSelectAllClick:function(e){e.target.checked?g(R.map((function(e){return e.id}))):g([])},onRequestSort:function(e,t){var r=t,n="desc";_.id===t&&"desc"===_.direction&&(n="asc"),X({direction:n,id:r})},rowCount:R.length,onMenuItemClick:function(){g([])}}),(0,x.jsx)(j.Z,{children:w.Z.orderBy(R,[function(e){return"categories"===_.id?e.categories[0]:e[_.id]}],[_.direction]).slice(D*$,D*$+$).map((function(t){var r=-1!==f.indexOf(t.id);return(0,x.jsxs)(P.Z,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,onClick:function(r){return n=t,void e.navigate("/apps/e-commerce/products/".concat(n.id,"/").concat(n.handle));var n},children:[(0,x.jsx)(C.Z,{className:"w-40 md:w-64 text-center",padding:"none",children:(0,x.jsx)(y.Z,{checked:r,onClick:function(e){return e.stopPropagation()},onChange:function(e){return function(e,t){var r=f.indexOf(t),n=[];-1===r?n=n.concat(f,t):0===r?n=n.concat(f.slice(1)):r===f.length-1?n=n.concat(f.slice(0,-1)):r>0&&(n=n.concat(f.slice(0,r),f.slice(r+1))),g(n)}(0,t.id)}})}),(0,x.jsx)(C.Z,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:t.images.length>0&&t.featuredImageId?(0,x.jsx)("img",{className:"w-full block rounded",src:w.Z.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):(0,x.jsx)("img",{className:"w-full block rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:t.name})}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.name}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:t.categories.join(", ")}),(0,x.jsxs)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[(0,x.jsx)("span",{children:"$"}),t.priceTaxIncl]}),(0,x.jsxs)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[t.quantity,(0,x.jsx)("i",{className:(0,S.default)("inline-block w-8 h-8 rounded mx-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})]}),(0,x.jsx)(C.Z,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:t.active?(0,x.jsx)(m.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):(0,x.jsx)(m.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})})]},t.id)}))})]})}),(0,x.jsx)(k.Z,{className:"shrink-0 border-t-1",component:"div",count:R.length,rowsPerPage:$,page:D,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){O(t)},onRowsPerPageChange:function(e){B(e.target.value)}})]})}));var _=(0,c.Z)("eCommerceApp",o.Z)((function(){var e=(0,a.Z)((function(e){return e.breakpoints.down("lg")}));return(0,x.jsx)(n.Z,{header:(0,x.jsx)(g,{}),content:(0,x.jsx)(F,{}),scroll:e?"normal":"content"})}))},88701:function(e,t,r){var n=r(9038),c=r(83168),a=r(74604),o=r(40471),i=r(60397),s=(0,n.UY)({products:i.ZP,product:o.ZP,orders:a.ZP,order:c.ZP});t.Z=s},83168:function(e,t,r){r.d(t,{H8:function(){return m},co:function(){return d},zT:function(){return h}});var n,c=r(4942),a=r(15861),o=r(87757),i=r.n(o),s=r(80827),u=r(31881),l=r.n(u),d=(0,s.hg)("eCommerceApp/order/getOrder",function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/ecommerce/orders/".concat(t));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,s.hg)("eCommerceApp/order/saveOrder",function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().put("/api/ecommerce/orders",t);case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,s.oM)({name:"eCommerceApp/order",initialState:null,reducers:{resetOrder:function(){return null}},extraReducers:(n={},(0,c.Z)(n,d.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,p.fulfilled,(function(e,t){return t.payload})),n)}),m=f.actions.resetOrder,h=function(e){return e.eCommerceApp.order};t.ZP=f.reducer},74604:function(e,t,r){r.d(t,{AU:function(){return d},ny:function(){return h},uN:function(){return g},xn:function(){return v},zH:function(){return p}});var n,c=r(4942),a=r(15861),o=r(87757),i=r.n(o),s=r(80827),u=r(31881),l=r.n(u),d=(0,s.hg)("eCommerceApp/orders/getOrders",(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/ecommerce/orders");case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),p=(0,s.hg)("eCommerceApp/orders/removeOrders",function(){var e=(0,a.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.next=3,l().delete("/api/ecommerce/orders",{data:t});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=(0,s.HF)({}),m=f.getSelectors((function(e){return e.eCommerceApp.orders})),h=m.selectAll,x=(m.selectById,(0,s.oM)({name:"eCommerceApp/orders",initialState:f.getInitialState({searchText:""}),reducers:{setOrdersSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(n={},(0,c.Z)(n,d.fulfilled,f.setAll),(0,c.Z)(n,p.fulfilled,(function(e,t){return f.removeMany(e,t.payload)})),n)})),g=x.actions.setOrdersSearchText,v=function(e){return e.eCommerceApp.orders.searchText};t.ZP=x.reducer},40471:function(e,t,r){r.d(t,{AC:function(){return g},Fn:function(){return Z},gg:function(){return m},kh:function(){return f},ms:function(){return v},wv:function(){return p}});var n,c=r(4942),a=r(15861),o=r(87757),i=r.n(o),s=r(80827),u=r(31881),l=r.n(u),d=r(34814),p=(0,s.hg)("eCommerceApp/product/getProduct",function(){var e=(0,a.Z)(i().mark((function e(t){var r,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/ecommerce/products/".concat(t));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,s.hg)("eCommerceApp/product/removeProduct",function(){var e=(0,a.Z)(i().mark((function e(t,r){var n,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,n=r.getState,c=n().eCommerceApp.product.id,e.next=4,l().delete("/api/ecommerce/products/".concat(c));case 4:return e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),m=(0,s.hg)("eCommerceApp/product/saveProduct",function(){var e=(0,a.Z)(i().mark((function e(t,r){var n,c,a,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,n=r.getState,c=n().eCommerceApp.id,e.next=4,l().put("/api/ecommerce/products/".concat(c),t);case 4:return a=e.sent,e.next=7,a.data;case 7:return o=e.sent,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),h=(0,s.oM)({name:"eCommerceApp/product",initialState:null,reducers:{resetProduct:function(){return null},newProduct:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{id:d.Z.generateGUID(),name:"",handle:"",description:"",categories:[],tags:[],images:[],priceTaxExcl:0,priceTaxIncl:0,taxRate:0,comparedPrice:0,quantity:0,sku:"",width:"",height:"",depth:"",weight:"",extraShippingFee:0,active:!0}}}}},extraReducers:(n={},(0,c.Z)(n,p.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,m.fulfilled,(function(e,t){return t.payload})),(0,c.Z)(n,f.fulfilled,(function(e,t){return null})),n)}),x=h.actions,g=x.newProduct,v=x.resetProduct,Z=function(e){return e.eCommerceApp.product};t.ZP=h.reducer},60397:function(e,t,r){r.d(t,{$0:function(){return p},Lm:function(){return v},Xp:function(){return d},c5:function(){return g},nR:function(){return h}});var n,c=r(4942),a=r(15861),o=r(87757),i=r.n(o),s=r(80827),u=r(31881),l=r.n(u),d=(0,s.hg)("eCommerceApp/products/getProducts",(0,a.Z)(i().mark((function e(){var t,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/api/ecommerce/products");case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),p=(0,s.hg)("eCommerceApp/products",function(){var e=(0,a.Z)(i().mark((function e(t,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.next=3,l().delete("/api/ecommerce/products",{data:t});case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),f=(0,s.HF)({}),m=f.getSelectors((function(e){return e.eCommerceApp.products})),h=m.selectAll,x=(m.selectById,(0,s.oM)({name:"eCommerceApp/products",initialState:f.getInitialState({searchText:""}),reducers:{setProductsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(n={},(0,c.Z)(n,d.fulfilled,f.setAll),(0,c.Z)(n,p.fulfilled,(function(e,t){return f.removeMany(e,t.payload)})),n)})),g=x.actions.setProductsSearchText,v=function(e){return e.eCommerceApp.products.searchText};t.ZP=x.reducer},82558:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(4942),c=r(63366),a=r(87462),o=r(79637),i=r(83061),s=r(47313),u=r(38743),l=r(54750),d=r(46417),p=(0,l.Z)((0,d.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),f=r(88564),m=r(77342),h=r(91615),x=r(11778);function g(e){return(0,x.Z)("MuiTableSortLabel",e)}var v=(0,r(29698).Z)("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc"]),Z=["active","children","className","direction","hideSortIcon","IconComponent"],w=(0,f.ZP)(u.Z,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,r.active&&t.active]}})((function(e){var t=e.theme;return(0,n.Z)({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(t.vars||t).palette.text.secondary},"&:hover":(0,n.Z)({color:(t.vars||t).palette.text.secondary},"& .".concat(v.icon),{opacity:.5})},"&.".concat(v.active),(0,n.Z)({color:(t.vars||t).palette.text.primary},"& .".concat(v.icon),{opacity:1,color:(t.vars||t).palette.text.secondary}))})),y=(0,f.ZP)("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:function(e,t){var r=e.ownerState;return[t.icon,t["iconDirection".concat((0,h.Z)(r.direction))]]}})((function(e){var t=e.theme,r=e.ownerState;return(0,a.Z)({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:t.transitions.create(["opacity","transform"],{duration:t.transitions.duration.shorter}),userSelect:"none"},"desc"===r.direction&&{transform:"rotate(0deg)"},"asc"===r.direction&&{transform:"rotate(180deg)"})})),b=s.forwardRef((function(e,t){var r=(0,m.Z)({props:e,name:"MuiTableSortLabel"}),n=r.active,s=void 0!==n&&n,u=r.children,l=r.className,f=r.direction,x=void 0===f?"asc":f,v=r.hideSortIcon,b=void 0!==v&&v,j=r.IconComponent,C=void 0===j?p:j,k=(0,c.Z)(r,Z),P=(0,a.Z)({},r,{active:s,direction:x,hideSortIcon:b,IconComponent:C}),S=function(e){var t=e.classes,r=e.direction,n={root:["root",e.active&&"active"],icon:["icon","iconDirection".concat((0,h.Z)(r))]};return(0,o.Z)(n,g,t)}(P);return(0,d.jsxs)(w,(0,a.Z)({className:(0,i.default)(S.root,l),component:"span",disableRipple:!0,ownerState:P,ref:t},k,{children:[u,b&&!s?null:(0,d.jsx)(y,{as:C,className:(0,i.default)(S.icon),ownerState:P})]}))}))}}]);