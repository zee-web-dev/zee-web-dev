"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[1986],{81986:function(e,t,n){n.r(t),n.d(t,{default:function(){return ne}});var r=n(29439),s=n(53996),a=n(23132),i=n(47313),c=n(22408),o=n(97890),l=n(69649),d=n(88564),u=n(38768),x=n(46417);var p,f=function(e){return(0,x.jsx)("div",{className:"flex flex-col flex-auto",children:(0,x.jsx)(o.j3,{})})},m=n(61113),h=n(62321),g=n(24193),j=n(5227),Z=n(56993),v=n(4942),y=n(15861),k=n(87757),b=n.n(k),w=n(80827),N=n(76747),I=n(31881),S=n.n(I),P=n(43850),A=n(28520),O=(0,w.hg)("tasksApp/tasks/getTasks",function(){var e=(0,y.Z)(b().mark((function e(t,n){var r,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.getState,e.next=3,S().get("/api/tasks");case 3:return r=e.sent,e.next=6,r.data;case 6:return s=e.sent,e.abrupt("return",s);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),z=(0,w.hg)("tasksApp/tasks/reorder",function(){var e=(0,y.Z)(b().mark((function e(t,n){var r,s,a,i,c;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.startIndex,s=t.endIndex,a=n.dispatch,n.getState,e.next=4,S().post("/api/tasks/reorder",{startIndex:r,endIndex:s});case 4:return i=e.sent,e.next=7,i.data;case 7:return c=e.sent,a((0,P.PV)({message:"List Order Saved",autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"}})),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),D=(0,w.HF)({}),C=D.getSelectors((function(e){return e.tasksApp.tasks})),F=C.selectAll,T=(C.selectById,(0,N.P1)([F],(function(e){return e.filter((function(e){return"task"===e.type&&!e.completed})).length}))),_=(0,w.oM)({name:"tasksApp/tasks",initialState:D.getInitialState(),extraReducers:(p={},(0,v.Z)(p,z.fulfilled,D.setAll),(0,v.Z)(p,A.xJ.fulfilled,D.upsertOne),(0,v.Z)(p,A.gI.fulfilled,D.addOne),(0,v.Z)(p,A.F6.fulfilled,(function(e,t){return D.removeOne(e,t.payload)})),(0,v.Z)(p,O.fulfilled,D.setAll),p)}),L=(_.actions.setTasksSearchText,_.reducer);var R=function(e){var t=(0,c.v9)(T);return(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row item-center sm:items-start space-y-16 sm:space-y-0 p-24 sm:p-32 w-full border-b-1 flex items-center justify-between",children:[(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:space-x-12",children:[(0,x.jsx)(m.Z,{component:h.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Tasks"}),(0,x.jsx)(m.Z,{component:h.E.span,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},delay:500,className:"text-14 font-medium ml-2",color:"text.secondary",children:"".concat(t," remaining tasks")})]}),(0,x.jsxs)("div",{className:"flex items-center -mx-8",children:[(0,x.jsxs)(g.Z,{className:"mx-8 whitespace-nowrap",component:j.Z,to:"new/section",children:[(0,x.jsx)(Z.Z,{size:20,children:"heroicons-outline:plus"}),(0,x.jsx)("span",{className:"mx-8",children:"Add Section"})]}),(0,x.jsxs)(g.Z,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",component:j.Z,to:"new/task",children:[(0,x.jsx)(Z.Z,{size:20,children:"heroicons-outline:plus"}),(0,x.jsx)("span",{className:"mx-8",children:"Add Task"})]})]})]})},E=n(48310),H=n(73933),J=n(1413),B=n(60194),K=n(83213),U=n(19536),W=n(74748),M=n(47131),V=n(89600),Y=n(83061);var q=function(e){var t=e.data,n=e.index,r=(0,c.I0)();return(0,x.jsx)(H._l,{draggableId:t.id,index:n,type:"list",children:function(e,n){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(B.ZP,(0,J.Z)((0,J.Z)({className:(0,Y.default)(n.isDragging?"shadow-lg":"shadow","px-40 py-12 group"),sx:{bgcolor:"background.paper"},button:!0,component:j.Z,to:"/apps/tasks/".concat(t.id),ref:e.innerRef},e.draggableProps),{},{children:[(0,x.jsx)("div",(0,J.Z)((0,J.Z)({className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex"},e.dragHandleProps),{},{children:(0,x.jsx)(Z.Z,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})})),(0,x.jsx)(W.Z,{className:"min-w-40 -ml-10 mr-8",children:(0,x.jsx)(M.Z,{sx:{color:t.completed?"secondary.main":"text.disabled"},onClick:function(e){e.preventDefault(),e.stopPropagation(),r((0,A.xJ)((0,J.Z)((0,J.Z)({},t),{},{completed:!t.completed})))},children:(0,x.jsx)(Z.Z,{children:"heroicons-outline:check-circle"})})}),(0,x.jsx)(K.Z,{classes:{root:"m-0",primary:"truncate"},primary:t.title}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsxs)("div",{children:[0===t.priority&&(0,x.jsx)(Z.Z,{className:"text-green icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-down"}),2===t.priority&&(0,x.jsx)(Z.Z,{className:"text-red icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-up"})]}),t.dueDate&&(0,x.jsx)(m.Z,{className:"text-12 whitespace-nowrap",color:"text.secondary",children:(0,V.Z)(new Date(t.dueDate),"LLL dd")})]})]})),(0,x.jsx)(U.Z,{})]})}})};var G=function(e){var t=e.data,n=e.index;return(0,x.jsx)(H._l,{draggableId:t.id,index:n,type:"list",children:function(e,n){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(B.ZP,(0,J.Z)((0,J.Z)({className:"px-40 py-12 group",sx:{bgcolor:"background.default"},button:!0,component:j.Z,to:"/apps/tasks/".concat(t.id),ref:e.innerRef},e.draggableProps),{},{children:[(0,x.jsx)("div",(0,J.Z)((0,J.Z)({className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex"},e.dragHandleProps),{},{children:(0,x.jsx)(Z.Z,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})})),(0,x.jsx)(K.Z,{classes:{root:"m-0",primary:"font-semibold text-16 truncate"},primary:t.title})]})),(0,x.jsx)(U.Z,{})]})}})};var Q=function(e){var t=(0,c.I0)(),n=(0,c.v9)(F);return n?0===n.length?(0,x.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,x.jsx)(m.Z,{color:"text.secondary",variant:"h5",children:"There are no tasks!"})}):(0,x.jsx)(E.Z,{className:"w-full m-0 p-0",children:(0,x.jsx)(H.Z5,{onDragEnd:function(e){e.destination&&e.destination.index!==e.source.index&&t(z({arr:n,startIndex:e.source.index,endIndex:e.destination.index}))},children:(0,x.jsx)(H.bK,{droppableId:"list",type:"list",direction:"vertical",children:function(e){return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{ref:e.innerRef,children:n.map((function(e,t){return"task"===e.type?(0,x.jsx)(q,{data:e,index:t},e.id):"section"===e.type?(0,x.jsx)(G,{index:t,data:e},e.id):null}))}),e.placeholder]})}})})}):null},X=n(9038),$=n(53706),ee=(0,X.UY)({tags:$.ZP,tasks:L,task:A.ZP}),te=(0,d.ZP)(s.Z)((function(e){return{"& .FusePageSimple-header":{backgroundColor:e.theme.palette.background.paper}}}));var ne=(0,a.Z)("tasksApp",ee)((function(e){var t=(0,c.I0)(),n=(0,i.useRef)(null),s=(0,o.UO)(),a=(0,i.useState)(!1),d=(0,r.Z)(a,2),p=d[0],m=d[1],h=(0,u.Z)((function(e){return e.breakpoints.down("lg")}));return(0,l.KW)((function(){t(O()),t((0,$.NJ)())}),[t]),(0,i.useEffect)((function(){m(Boolean(s.id))}),[s]),(0,x.jsx)(te,{header:(0,x.jsx)(R,{pageLayout:n}),content:(0,x.jsx)(Q,{}),ref:n,rightSidebarContent:(0,x.jsx)(f,{}),rightSidebarOpen:p,rightSidebarOnClose:function(){return m(!1)},rightSidebarWidth:640,scroll:h?"normal":"content"})}))}}]);